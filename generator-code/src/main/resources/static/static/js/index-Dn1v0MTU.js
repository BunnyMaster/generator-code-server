import{t as e,d as t,v as a,x as l,y as n,h as r,z as s,A as i,c as o,a as c,w as u,j as d,B as m,C as p,F as b,b as g,D as y,E as f,G as v}from"./vendor-BT0L8wkZ.js";import{u as h,g as k}from"./table-R7-h5oL5.js";function D(){const l=e(),n=e=>{l.replace({path:"/generator-code",query:{tableName:e.tableName}}).then()};return[{title:"序号",key:"no",titleAlign:"center",align:"center",render:(e,t)=>t+1},{title:"数据库名称",key:"tableCat",titleAlign:"center",align:"center",render:e=>t(a,{type:"primary"},{default:()=>[e.tableCat]})},{title:"表类型",key:"tableType",titleAlign:"center",align:"center",render:e=>t(a,null,{default:()=>[e.tableType]})},{title:"表名",key:"tableName",titleAlign:"center",align:"center",render:e=>t(a,{type:"info",onClick:()=>n(e)},{default:()=>[e.tableName]})},{title:"注释内容",key:"comment",titleAlign:"center",align:"center",render:e=>t(a,{type:"info",onClick:()=>n(e)},{default:()=>[e.comment]})}]}const L=({node:e,option:t})=>l(n,null,{trigger:()=>e,default:()=>t.comment}),N={class:"mt-2"},x=r({__name:"index",setup(e){const l=h(),{tableList:n,dbList:r,tableListLoading:x,currentDatabaseName:A}=s(l),_=e=>{l.currentDatabaseName=null!=e?e:void 0,l.getDatabaseTableList()},C=()=>{return e=this,t=null,a=function*(){const e=yield k();200===e.code&&(l.currentDatabaseName=e.data),yield l.getDatabaseTableList()},new Promise(((l,n)=>{var r=e=>{try{i(a.next(e))}catch(t){n(t)}},s=e=>{try{i(a.throw(e))}catch(t){n(t)}},i=e=>e.done?l(e.value):Promise.resolve(e.value).then(r,s);i((a=a.apply(e,t)).next())}));var e,t,a};return i((()=>{C(),l.getDatabaseList()})),(e,l)=>(c(),o(b,null,[t(d(m),{class:"my-2",title:"提示"},{default:u((()=>[g("p",null,[l[2]||(l[2]=y(" 点击 ")),t(d(a),null,{default:u((()=>l[0]||(l[0]=[y("表名")]))),_:1}),l[3]||(l[3]=y(" 或 ")),t(d(a),null,{default:u((()=>l[1]||(l[1]=[y("注释内容")]))),_:1}),l[4]||(l[4]=y(" 跳转 "))]),g("p",N,[l[5]||(l[5]=y(" 数据库共 ")),t(d(a),{type:"info"},{default:u((()=>[y(f(d(n).length),1)])),_:1}),l[6]||(l[6]=y(" 张表 "))]),t(d(v),{"on-update-value":_,options:d(r),"render-option":d(L),value:d(A),class:"mt-2 w-[200px]","clear-filter-after-select":"",clearable:"",placeholder:"选择数据库"},null,8,["options","render-option","value"])])),_:1}),t(d(p),{bordered:!0,columns:d(D)(),data:d(n),loading:d(x)},null,8,["columns","data","loading"])],64))}});export{x as default};
